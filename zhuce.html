<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>旅图注册门户</title>
    <style> 
        /* 全局基础样式 - 完全匹配登录页 */
        body {
            margin: 0; 
            padding: 0; 
            font-family: "微软雅黑", sans-serif;
            color: #333;
            min-height: 100vh;
			/* 添加背景图样式 */
			background: url('img/beijing.jpg') no-repeat center center fixed;
			background-size: cover;
        }

        /* 遮罩层 - 半透明模糊，可看清底层页面 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        /* 注册窗口容器 - 半透明模糊，保留可读性（完全匹配登录窗口） */
        .login-window {
            width: 420px;
            background-color: rgba(44, 44, 44, 0.7);
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            position: relative;
            transform: scale(1);
            transition: transform 0.3s ease;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* 关闭按钮样式 - 完全匹配登录页 */
        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 24px;
            height: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            transition: background-color 0.3s ease;
            z-index: 10;
        }
        .close-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        .close-btn::before,
        .close-btn::after {
            content: '';
            position: absolute;
            width: 12px;
            height: 2px;
            background-color: #fff;
        }
        .close-btn::before { transform: rotate(45deg); }
        .close-btn::after { transform: rotate(-45deg); }

        /* 表单容器 - 完全匹配登录页 */
        .login-container {
            padding: 30px;
            padding-top: 40px;
        }

        /* 选项卡样式 - 完全匹配登录页 */
        .tab-bar {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 1px solid rgba(68, 68, 68, 0.5);
            padding-bottom: 0;
        }
        .tab {
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            position: relative;
            transition: color 0.3s ease;
        }
        .tab.login-active {
            color: #fff;
        }
        .tab.login-active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #fff;
        }
        .tab.register-active {
            color: #fff;
        }
        .tab.register-active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #fff;
        }
        .tab.inactive {
            color: #ddd;
        }

        /* 输入框样式 - 完全匹配登录页 */
        .input-box {
            width: 100%;
            height: 45px;
            background-color: rgba(60, 60, 60, 0.6);
            border: none;
            border-radius: 6px;
            margin-bottom: 20px;
            padding: 0 15px;
            color: #fff;
            font-size: 14px;
            box-sizing: border-box;
            transition: background-color 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .input-box:focus {
            outline: none;
            background-color: rgba(72, 72, 72, 0.7);
            border-color: rgba(30, 144, 255, 0.5);
        }

        /* 验证码区域 - 适配登录页风格 */
        .verify-code {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .verify-code .input-box {
            flex: 1;
            margin-bottom: 0;
        }
        .get-code {
            width: 120px;
            height: 45px;
            background-color: rgba(60, 60, 60, 0.6);
            border: none;
            border-radius: 6px;
            color: #fff;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        .get-code:hover {
            background-color: rgba(72, 72, 72, 0.7);
        }
        .get-code:disabled {
            background-color: rgba(102, 102, 102, 0.5);
            cursor: not-allowed;
        }

        /* 协议区域 - 完全匹配登录页 */
        .agreement {
            display: flex;
            align-items: center;
            font-size: 12px;
            color: #eee;
            margin-bottom: 25px;
        }
        .agreement input {
            margin-right: 8px;
            width: 14px;
            height: 14px;
            accent-color: rgba(30, 144, 255, 0.8);
        }
        .agreement a {
            color: #1e90ff;
            text-decoration: none;
        }
        .agreement a:hover {
            text-decoration: underline;
        }

        /* 注册按钮 - 完全匹配登录页按钮样式 */
        .login-btn {
            width: 100%;
            height: 48px;
            background-color: rgba(30, 144, 255, 0.8);
            border: none;
            border-radius: 6px;
            color: #fff;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        .login-btn:hover {
            background-color: rgba(0, 191, 255, 0.85);
        }
        .login-btn:disabled {
            background-color: rgba(102, 102, 102, 0.5);
            cursor: not-allowed;
        }

        /* 响应式适配 - 完全匹配登录页 */
        @media (max-width: 480px) {
            .login-window {
                width: 90%;
                margin: 0 10px;
            }
        }
    </style>
</head>
<body>
    <!-- 模态框遮罩层（默认显示） -->
    <div class="modal-overlay" id="modalOverlay">
        <!-- 注册窗口容器 - 匹配登录窗口样式 -->
        <div class="login-window">
            <!-- 关闭按钮 -->
            <div class="close-btn" id="closeBtn"></div>
            
            <div class="login-container">
                <!-- 选项卡 -->
                <div class="tab-bar">
                    <div class="tab inactive" id="loginTab">登录</div>
                    <div class="tab register-active" id="registerTab">注册</div>
                </div>

                <!-- 注册表单 -->
                <input type="tel" class="input-box" id="phoneInput" placeholder="手机号码" />
                
                <div class="verify-code">
                    <input type="text" class="input-box" id="codeInput" placeholder="验证码" />
                    <button type="button" class="get-code" id="getCodeBtn">获取验证码</button>
                </div>

                <div class="agreement">
                    <input type="checkbox" id="agreeCheckbox" />
                    已阅读并同意<a href="#">使用协议</a>和<a href="#">隐私政策</a>
                </div>

                <!-- 注册按钮 -->
                <button type="button" class="login-btn" id="submitBtn" disabled>注册</button>
            </div>
        </div>
    </div>

    <script>
        // 获取核心元素
        const loginTab = document.getElementById('loginTab');
        const registerTab = document.getElementById('registerTab');
        const closeBtn = document.getElementById('closeBtn');
        const modalOverlay = document.getElementById('modalOverlay');
        const getCodeBtn = document.getElementById('getCodeBtn');
        const phoneInput = document.getElementById('phoneInput');
        const codeInput = document.getElementById('codeInput');
        const agreeCheckbox = document.getElementById('agreeCheckbox');
        const submitBtn = document.getElementById('submitBtn');

        // 页面加载后锁定滚动（匹配登录页逻辑）
        document.body.style.overflow = 'hidden';

        // 关闭弹窗通用方法（匹配登录页动画逻辑）
        function closeRegisterModal() {
            modalOverlay.style.opacity = 0;
            modalOverlay.style.transform = 'scale(0.95)';
            setTimeout(() => {
                modalOverlay.style.display = 'none';
                document.body.style.overflow = '';
                // 注册成功后跳转到登录页
                window.location.href = "denglu.html";
            }, 300);
            // 清空表单
            phoneInput.value = '';
            codeInput.value = '';
            agreeCheckbox.checked = false;
            updateSubmitButton();
            // 恢复选项卡样式
            loginTab.classList.remove('login-active');
            loginTab.classList.add('inactive');
            registerTab.classList.remove('inactive');
            registerTab.classList.add('register-active');
        }

        // 登录选项卡点击：跳转至登录页
        loginTab.onclick = function() {
            window.location.href = "denglu.html";
        };

        // 注册选项卡点击：仅切换样式（匹配登录页交互）
        registerTab.onclick = function() {
            loginTab.classList.remove('login-active');
            loginTab.classList.add('inactive');
            registerTab.classList.remove('inactive');
            registerTab.classList.add('register-active');
        };

        // 关闭按钮点击事件（匹配登录页逻辑）
        closeBtn.onclick = closeRegisterModal;

        // 点击遮罩层关闭弹窗（匹配登录页逻辑）
        modalOverlay.onclick = function(e) {
            if (e.target === modalOverlay) {
                closeRegisterModal();
            }
        };

        // 验证码按钮倒计时逻辑
        getCodeBtn.onclick = function() {
            // 验证手机号格式
            const phone = phoneInput.value.trim();
            const phoneReg = /^1[3-9]\d{9}$/;
            
            if (!phoneReg.test(phone)) {
                alert("请输入有效的手机号码");
                return;
            }

            // 开始倒计时
            let count = 60;
            this.textContent = `${count}s后重发`;
            this.disabled = true;
            
            const timer = setInterval(() => {
                count--;
                this.textContent = `${count}s后重发`;
                
                if (count <= 0) {
                    clearInterval(timer);
                    this.textContent = "获取验证码";
                    this.disabled = false;
                }
            }, 1000);

            // 模拟发送验证码
            console.log(`向手机号 ${phone} 发送验证码`);
            alert("验证码已发送（模拟），验证码：123456");
        };

        // 表单验证逻辑（匹配登录页验证逻辑）
        function updateSubmitButton() {
            const isPhoneValid = /^1[3-9]\d{9}$/.test(phoneInput.value.trim());
            const isCodeFilled = codeInput.value.trim() !== '';
            const isAgreeChecked = agreeCheckbox.checked;
            
            submitBtn.disabled = !(isPhoneValid && isCodeFilled && isAgreeChecked);
        }
        
        // 绑定输入事件（匹配登录页绑定方式）
        phoneInput.addEventListener('input', updateSubmitButton);
        codeInput.addEventListener('input', updateSubmitButton);
        agreeCheckbox.addEventListener('change', updateSubmitButton);
        
        // 初始化按钮状态
        updateSubmitButton();
        
        // 注册按钮点击事件（匹配登录页按钮交互逻辑）
        submitBtn.onclick = function() {
            if (!this.disabled) {
                const phone = phoneInput.value.trim();
                const code = codeInput.value.trim();
                
                // 模拟验证码验证
                if (code === '123456') {
                    alert(`注册成功！即将跳转到登录页`);
                    closeRegisterModal();
                } else {
                    alert("验证码错误，请重新输入");
                }
            }
        };

        // 按ESC键关闭弹窗（匹配登录页逻辑）
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && modalOverlay.style.display !== 'none') {
                closeRegisterModal();
            }
        });
    </script>
</body>
</html>