<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>旅图 - 发现城市之美</title>
  <!-- 外部资源 -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  <!-- 高德地图JS SDK（放在所有脚本之前） -->
  <script src="https://webapi.amap.com/maps?v=2.0&key=d2fa9df65dd62f5b3f2d562165aca23c"></script>
  <!-- 高德地图 API -->
  <script type="text/javascript" src="https://webapi.amap.com/maps?v=2.0&key=d2fa9df65dd62f5b3f2d562165aca23c"></script>
  <!-- 填写了高德API密钥：3d72b8529788456f03ed92e466426d34 -->
  <!-- 自定义配置 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#2563eb',
            secondary: '#f97316',
            accent: '#10b981',
            dark: '#1e293b',
            light: '#f8fafc'
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .card-hover {
        @apply transition-all duration-300 hover:shadow-xl hover:-translate-y-1;
      }
      .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }
      .scrollbar-hide::-webkit-scrollbar {
        display: none;
      }
    }
  </style>
  <style>
    /* 基础动画 */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
      animation: fadeIn 0.5s ease forwards;
    }
    .delay-100 { animation-delay: 0.1s; }
    .delay-200 { animation-delay: 0.2s; }
    .delay-300 { animation-delay: 0.3s; }
    
    /* 移除图片懒加载过渡样式 */
    
    /* 轮播图样式 */
    .carousel-item {
      display: none;
    }
    .carousel-item.active {
      display: block;
      animation: fadeIn 0.8s ease;
    }
    
    /* 地图容器 */
    #map-container {
      height: 400px;
      width: 100%;
      border-radius: 0.75rem;
      overflow: hidden;
    }
    
    /* 登录按钮样式增强 */
    .login-btn {
      @apply transition-all duration-300 hover:shadow-md transform hover:-translate-y-0.5;
    }
  </style>
</head>
<body class="font-inter bg-light text-dark antialiased">
  <!-- 导航栏 - 已添加登录按钮 -->
  <header class="fixed top-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-sm shadow-sm transition-all duration-300">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <a href="#" class="flex items-center gap-2 text-primary font-bold text-xl">
        <i class="fa fa-map-marker"></i>
        <span>旅图</span>
      </a>
      
      <!-- 桌面导航 -->
      <nav class="hidden md:flex items-center gap-6">
        <a href="#destinations" class="text-dark/80 hover:text-primary transition-colors">目的地</a>
        <a href="#guides" class="text-dark/80 hover:text-primary transition-colors">旅游攻略</a>
        <a href="#routes" class="text-dark/80 hover:text-primary transition-colors">路线规划</a>
        <a href="#gallery" class="text-dark/80 hover:text-primary transition-colors">美景图库</a>
        <a href="#weather" class="text-dark/80 hover:text-primary transition-colors">天气查询</a>
      </nav>
      
      <!-- 搜索框 -->
      <div class="hidden md:flex items-center relative">
        <input type="text" placeholder="搜索城市/景点..." 
               class="pl-10 pr-4 py-2 rounded-full border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all w-48 lg:w-64">
        <i class="fa fa-search absolute left-4 text-gray-400"></i>
      </div>
      
      <!-- 登录按钮 - 新增 -->
      <div class="hidden md:block">
        <a href="denglu.html" id="login-button" class="login-btn px-5 py-2 bg-primary text-white rounded-full hover:bg-primary/90">
          <i class="fa fa-user mr-2"></i>登录
        </a>
      </div>
      
      <!-- 移动端菜单按钮 + 登录按钮 -->
      <div class="md:hidden flex items-center gap-4">
        <a href="denglu.html" class="login-btn px-4 py-1.5 bg-primary text-white rounded-full text-sm hover:bg-primary/90">
          <i class="fa fa-user mr-1"></i>登录
        </a>
        <button id="menu-toggle" class="text-dark text-xl">
          <i class="fa fa-bars"></i>
        </button>
      </div>
    </div>
    
    <!-- 移动端导航菜单 -->
    <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 animate-fade-in">
      <div class="container mx-auto px-4 py-3 flex flex-col gap-4">
        <div class="relative">
          <input type="text" placeholder="搜索城市/景点..." 
                 class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all">
          <i class="fa fa-search absolute left-4 top-3 text-gray-400"></i>
        </div>
        <nav class="flex flex-col gap-3">
          <a href="#destinations" class="text-dark/80 hover:text-primary transition-colors py-2">目的地</a>
          <a href="#guides" class="text-dark/80 hover:text-primary transition-colors py-2">旅游攻略</a>
          <a href="#routes" class="text-dark/80 hover:text-primary transition-colors py-2">路线规划</a>
          <a href="#gallery" class="text-dark/80 hover:text-primary transition-colors py-2">美景图库</a>
          <a href="#weather" class="text-dark/80 hover:text-primary transition-colors py-2">天气查询</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- 英雄区 -->
  <section class="pt-24 md:pt-0 h-screen relative overflow-hidden">
    <div id="hero-carousel" class="h-full w-full">
      <!-- 轮播项 1 - 懒加载 -->
      <div class="carousel-item active h-full w-full bg-cover bg-center" style="background-image: url('https://picsum.photos/id/1036/1920/1080')">
        <div class="h-full w-full bg-gradient-to-r from-dark/70 to-transparent flex items-center">
          <div class="container mx-auto px-4 py-20 md:py-0">
            <div class="max-w-2xl animate-fade-in">
              <h1 class="text-[clamp(2rem,5vw,4rem)] font-bold text-white text-shadow mb-4">
                探索世界的每一个角落
              </h1>
              <p class="text-[clamp(1rem,2vw,1.25rem)] text-white/90 mb-8 max-w-xl">
                发现未知的美景，体验不同的文化，让旅行成为生活的一部分
              </p>
              <div class="flex flex-wrap gap-4">
                <a href="#destinations" class="px-6 py-3 bg-primary text-white rounded-full hover:bg-primary/90 transition-colors shadow-lg">
                  发现目的地
                </a>
                <a href="#guides" class="px-6 py-3 bg-white/20 backdrop-blur-sm text-white rounded-full hover:bg-white/30 transition-colors border border-white/30">
                  查看旅游攻略
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 轮播项 2 - 替换为本地图片路径 -->
      <div class="carousel-item h-full w-full bg-cover bg-center" style="background-image: url('img/lunbo.png')">
        <div class="h-full w-full bg-gradient-to-r from-dark/70 to-transparent flex items-center">
          <div class="container mx-auto px-4 py-20 md:py-0">
            <div class="max-w-2xl animate-fade-in">
              <h1 class="text-[clamp(2rem,5vw,4rem)] font-bold text-white text-shadow mb-4">
                定制你的完美旅程
              </h1>
              <p class="text-[clamp(1rem,2vw,1.25rem)] text-white/90 mb-8 max-w-xl">
                专业的路线规划，贴心的旅行建议，让每一次出行都不留遗憾
              </p>
              <div class="flex flex-wrap gap-4">
                <a href="#routes" class="px-6 py-3 bg-secondary text-white rounded-full hover:bg-secondary/90 transition-colors shadow-lg">
                  规划旅行路线
                </a>
                <a href="#gallery" class="px-6 py-3 bg-white/20 backdrop-blur-sm text-white rounded-full hover:bg-white/30 transition-colors border border-white/30">
                  欣赏美景图库
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 轮播控制按钮 -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-3">
      <button class="carousel-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-colors active" data-index="0"></button>
      <button class="carousel-dot w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-colors" data-index="1"></button>
    </div>
    
    <!-- 向下滚动指示 -->
    <div class="absolute bottom-8 right-8 animate-bounce hidden md:block">
      <a href="#destinations" class="text-white/80 hover:text-white transition-colors">
        <i class="fa fa-chevron-down text-2xl"></i>
      </a>
    </div>
  </section>

  <!-- 热门目的地 -->
  <section id="destinations" class="py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12 animate-fade-in">
        <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">热门目的地</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">探索最受欢迎的旅游城市，发现每个地方的独特魅力</p>
      </div>
      
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        <!-- 景点卡片 1 - 替换为本地图片路径 -->
        <div class="rounded-xl overflow-hidden shadow-md bg-white card-hover animate-fade-in delay-100">
          <div class="relative h-48 overflow-hidden">
            <img src="img/hangzhoxihu.png" alt="杭州西湖" class="w-full h-full object-cover">
            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-sm font-medium text-primary">
              热门
            </div>
          </div>
          <div class="p-5">
            <h3 class="font-bold text-xl mb-2">杭州西湖</h3>
            <p class="text-gray-600 text-sm mb-4 line-clamp-2">
              西湖三面环山，一面濒城，四季分明，风光旖旎，以其秀丽的湖光山色和众多的名胜古迹闻名于世
            </p>
            <div class="flex justify-between items-center">
              <div class="flex items-center gap-1 text-yellow-400">
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star-half-o"></i>
                <span class="text-gray-600 text-sm ml-1">4.8</span>
              </div>
               <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="text-primary hover:text-primary/80 font-medium text-sm cursor-pointer">查看详情</a>
            </div>
          </div>
        </div>
        
		
		
        <!-- 景点卡片 2 - 替换为本地图片路径 -->
        <div class="rounded-xl overflow-hidden shadow-md bg-white card-hover animate-fade-in delay-200">
          <div class="relative h-48 overflow-hidden">
            <img src="img/beijinggugong.png" alt="北京故宫" class="w-full h-full object-cover">
            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-sm font-medium text-primary">
              必去
            </div>
          </div>
          <div class="p-5">
            <h3 class="font-bold text-xl mb-2">北京故宫</h3>
            <p class="text-gray-600 text-sm mb-4 line-clamp-2">
              中国明清两代的皇家宫殿，是世界上现存规模最大、保存最为完整的木质结构古建筑之一
            </p>
            <div class="flex justify-between items-center">
              <div class="flex items-center gap-1 text-yellow-400">
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <span class="text-gray-600 text-sm ml-1">5.0</span>
              </div>
              <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="text-primary hover:text-primary/80 font-medium text-sm cursor-pointer">查看详情</a>
            </div>
          </div>
        </div>
        
        <!-- 景点卡片 3 - 替换为本地图片路径 -->
        <div class="rounded-xl overflow-hidden shadow-md bg-white card-hover animate-fade-in delay-300">
          <div class="relative h-48 overflow-hidden">
            <img src="img/xianbingmyong.png" alt="西安兵马俑" class="w-full h-full object-cover">
          </div>
          <div class="p-5">
            <h3 class="font-bold text-xl mb-2">西安兵马俑</h3>
            <p class="text-gray-600 text-sm mb-4 line-clamp-2">
              世界第八大奇迹，是秦始皇陵的陪葬坑，被誉为"二十世纪考古史上的伟大发现之一"
            </p>
            <div class="flex justify-between items-center">
              <div class="flex items-center gap-1 text-yellow-400">
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star-o"></i>
                <span class="text-gray-600 text-sm ml-1">4.0</span>
              </div>
              <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="text-primary hover:text-primary/80 font-medium text-sm cursor-pointer">查看详情</a>
            </div>
          </div>
        </div>
        
        <!-- 景点卡片 4 - 替换为本地图片路径 -->
        <div class="rounded-xl overflow-hidden shadow-md bg-white card-hover animate-fade-in">
          <div class="relative h-48 overflow-hidden">
            <img src="img/chongqingjiuzhaigo.png" alt="成都九寨沟" class="w-full h-full object-cover">
            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-sm font-medium text-secondary">
              推荐
            </div>
          </div>
          <div class="p-5">
            <h3 class="font-bold text-xl mb-2">成都九寨沟</h3>
            <p class="text-gray-600 text-sm mb-4 line-clamp-2">
              以典型的高山湖泊、瀑布、彩林、雪峰、蓝冰和藏族风情并称"九寨沟六绝"
            </p>
            <div class="flex justify-between items-center">
              <div class="flex items-center gap-1 text-yellow-400">
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star-half-o"></i>
                <span class="text-gray-600 text-sm ml-1">4.7</span>
              </div>
              <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="text-primary hover:text-primary/80 font-medium text-sm cursor-pointer">查看详情</a>
            </div>
          </div>
        </div>
      </div>
      
      <div class="text-center mt-10">
        <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="inline-flex items-center gap-2 px-6 py-3 border border-primary text-primary rounded-full hover:bg-primary hover:text-white transition-colors">
          查看更多目的地
          <i class="fa fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </section>


<!-- 旅游攻略 -->
<section id="guides" class="py-20 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12 animate-fade-in">
      <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">精品旅游攻略</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">由旅行达人和当地居民精心打造的实用攻略，助你玩转每一个目的地</p>
    </div>
    
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      <!-- 攻略详情卡片 - 替换为本地图片路径 -->
      <div class="bg-white rounded-xl overflow-hidden shadow-md flex flex-col md:flex-row card-hover animate-fade-in delay-100">
        <div class="md:w-2/5 relative">
          <img src="img/hangzhoyou.png" alt="杭州三日游攻略" class="w-full h-full object-cover md:h-full">
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-dark/80 to-transparent p-4">
            <span class="text-white text-sm bg-primary/80 px-2 py-1 rounded">3天2晚</span>
          </div>
        </div>
        <div class="md:w-3/5 p-6">
          <div class="flex items-center gap-2 mb-3">
            <span class="text-sm text-gray-500"><i class="fa fa-map-marker text-primary mr-1"></i>杭州</span>
            <span class="text-sm text-gray-500"><i class="fa fa-clock-o text-primary mr-1"></i>更新于 2025-01-15</span>
          </div>
          <h3 class="font-bold text-xl mb-3">杭州三日游：深度体验江南水乡之美</h3>
          <p class="text-gray-600 mb-4 line-clamp-3">
            本攻略带你深度体验杭州的精华景点，从西湖十景到灵隐寺，从龙井村到河坊街，品尝地道杭帮菜，体验慢生活的江南韵味。适合首次到访杭州的游客，节奏轻松，体验丰富。
          </p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full">西湖</span>
            <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full">灵隐寺</span>
            <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full">美食</span>
            <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full">文化体验</span>
          </div>
          <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="inline-flex items-center text-primary font-medium hover:text-primary/80">
            阅读全文
            <i class="fa fa-long-arrow-right ml-2"></i>
          </a>
        </div>
      </div>
      
      <!-- 攻略详情卡片 - 替换为本地图片路径 -->
      <div class="bg-white rounded-xl overflow-hidden shadow-md flex flex-col md:flex-row card-hover animate-fade-in delay-200">
        <div class="md:w-2/5 relative">
          <img src="img/beijingyou.png" alt="北京自由行攻略" class="w-full h-full object-cover md:h-full">
          <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-dark/80 to-transparent p-4">
            <span class="text-white text-sm bg-primary/80 px-2 py-1 rounded">5天4晚</span>
          </div>
        </div>
        <div class="md:w-3/5 p-6">
          <div class="flex items-center gap-2 mb-3">
            <span class="text-sm text-gray-500"><i class="fa fa-map-marker text-primary mr-1"></i>北京</span>
            <span class="text-sm text-gray-500"><i class="fa fa-clock-o text-primary mr-1"></i>更新于 2025-02-10</span>
          </div>
          <h3 class="font-bold text-xl mb-3">北京五日自由行：经典与小众景点结合</h3>
          <p class="text-gray-600 mb-4 line-clamp-3">
            这份攻略不仅包含故宫、长城、颐和园等经典景点，还推荐了五道营胡同、798艺术区等小众打卡地，带你体验不一样的北京。攻略包含详细的交通、门票、美食推荐，让你的北京之行更加顺畅。
          </p>
          <div class="flex flex-wrap gap-2 mb-4">
            <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full">故宫</span>
            <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full">长城</span>
            <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full">胡同</span>
            <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full">美食</span>
          </div>
          <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="inline-flex items-center text-primary font-medium hover:text-primary/80">
            阅读全文
            <i class="fa fa-long-arrow-right ml-2"></i>
          </a>
        </div>
      </div>
    </div>
    
    <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- 攻略列表项 - 替换为本地图片路径 -->
      <div class="bg-white rounded-xl p-5 shadow-md card-hover animate-fade-in">
        <div class="flex items-start gap-4">
          <img src="img/shanghai.png" alt="上海攻略" class="w-16 h-16 rounded-lg object-cover">
          <div>
            <h4 class="font-bold mb-1">上海两日游：魔都的经典与潮流</h4>
            <p class="text-gray-600 text-sm line-clamp-2 mb-2">
              外滩、豫园、迪士尼、新天地，体验上海的古今交融
            </p>
            <div class="flex items-center text-xs text-gray-500">
              <span><i class="fa fa-clock-o mr-1"></i>2天1晚</span>
              <span class="mx-2">|</span>
              <span><i class="fa fa-eye mr-1"></i>12.5k</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 攻略列表项 - 替换为本地图片路径 -->
      <div class="bg-white rounded-xl p-5 shadow-md card-hover animate-fade-in delay-100">
        <div class="flex items-start gap-4">
          <img src="img/chengdu.png" alt="成都攻略" class="w-16 h-16 rounded-lg object-cover">
          <div>
            <h4 class="font-bold mb-1">成都四日游：美食与美景的完美结合</h4>
            <p class="text-gray-600 text-sm line-clamp-2 mb-2">
              大熊猫基地、宽窄巷子、锦里、都江堰，品味巴蜀文化
            </p>
            <div class="flex items-center text-xs text-gray-500">
              <span><i class="fa fa-clock-o mr-1"></i>4天3晚</span>
              <span class="mx-2">|</span>
              <span><i class="fa fa-eye mr-1"></i>9.8k</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 攻略列表项 - 替换为本地图片路径 -->
      <div class="bg-white rounded-xl p-5 shadow-md card-hover animate-fade-in delay-200">
        <div class="flex items-start gap-4">
          <img src="img/xian.png" alt="西安攻略" class="w-16 h-16 rounded-lg object-cover">
          <div>
            <h4 class="font-bold mb-1">西安三日游：穿越千年的古都之旅</h4>
            <p class="text-gray-600 text-sm line-clamp-2 mb-2">
              兵马俑、大雁塔、古城墙、回民街，感受十三朝古都魅力
            </p>
            <div class="flex items-center text-xs text-gray-500">
              <span><i class="fa fa-clock-o mr-1"></i>3天2晚</span>
              <span class="mx-2">|</span>
              <span><i class="fa fa-eye mr-1"></i>8.7k</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="text-center mt-10">
      <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="inline-flex items-center gap-2 px-6 py-3 border border-primary text-primary rounded-full hover:bg-primary hover:text-white transition-colors">
        查看全部攻略
        <i class="fa fa-arrow-right"></i>
      </a>
    </div>
  </div>
</section>

<!-- 保留原有UI结构，仅修改生成路线按钮逻辑 -->
 <section id="routes" class="py-20 bg-white">
   <div class="container mx-auto px-4">
     <div class="text-center mb-12 animate-fade-in">
       <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">智能路线规划</h2>
       <p class="text-gray-600 max-w-2xl mx-auto">根据你的时间、预算和兴趣，定制专属的旅行路线</p>
     </div>
     
     <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
       <!-- 路线规划工具 -->
       <div class="lg:col-span-1 bg-white rounded-xl shadow-md p-6 animate-fade-in delay-100">
         <h3 class="font-bold text-xl mb-4">定制你的路线</h3>
         <form class="space-y-4" id="route-form">
           <div>
             <label class="block text-sm font-medium text-gray-700 mb-1">目的地</label>
             <select id="destination" class="w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
               <option value="">选择城市</option>
               <option value="beijing">北京</option>
               <option value="hangzhou" selected>杭州</option>
             </select>
           </div>
           
           <div>
             <label class="block text-sm font-medium text-gray-700 mb-1">旅行天数</label>
             <input type="number" id="travel-days" min="1" max="30" value="3" 
                    class="w-full px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
           </div>
           
           <div>
             <label class="block text-sm font-medium text-gray-700 mb-1">旅行类型</label>
             <div class="grid grid-cols-2 gap-2" id="travel-types">
               <label class="flex items-center gap-2 p-2 border border-gray-200 rounded-lg cursor-pointer hover:border-primary/50">
                 <input type="checkbox" name="travel-type" value="nature" class="accent-primary">
                 <span>自然风光</span>
               </label>
               <label class="flex items-center gap-2 p-2 border border-gray-200 rounded-lg cursor-pointer hover:border-primary/50">
                 <input type="checkbox" name="travel-type" value="culture" class="accent-primary">
                 <span>历史文化</span>
               </label>
               <label class="flex items-center gap-2 p-2 border border-gray-200 rounded-lg cursor-pointer hover:border-primary/50">
                 <input type="checkbox" name="travel-type" value="food" class="accent-primary">
                 <span>美食探店</span>
               </label>
               <label class="flex items-center gap-2 p-2 border border-gray-200 rounded-lg cursor-pointer hover:border-primary/50">
                 <input type="checkbox" name="travel-type" value="leisure" class="accent-primary">
                 <span>休闲度假</span>
               </label>
             </div>
           </div>
           
           <div>
             <label class="block text-sm font-medium text-gray-700 mb-1">预算范围</label>
             <div class="flex items-center gap-2">
               <input type="range" min="1000" max="10000" step="1000" value="3000" 
                      class="w-full accent-primary" id="budget-range">
               <span class="text-sm font-medium" id="budget-value">¥3000</span>
             </div>
           </div>
           
           <button type="button" id="generate-route" class="w-full py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium">
             生成路线
           </button>
         </form>
       </div>
       
       <!-- 路线地图 -->
       <div class="lg:col-span-2 animate-fade-in delay-200">
         <div class="bg-white rounded-xl shadow-md overflow-hidden">
           <div class="p-6 border-b border-gray-100">
             <h3 class="font-bold text-xl" id="map-title">杭州三日游路线图</h3>
           </div>
           <div id="map-container" style="height: 500px;"></div>
           <!-- 攻略列表容器 -->
           <div class="p-6 grid grid-cols-1 md:grid-cols-3 gap-4" id="route-details">
             <!-- 默认显示杭州3天攻略 -->
             <div class="flex items-center gap-3">
               <div class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary">
                 <i class="fa fa-map-marker"></i>
               </div>
               <div>
                 <h4 class="font-medium">第1天</h4>
                 <p class="text-sm text-gray-600">西湖景区 → 雷峰塔 → 河坊街</p>
                 <p class="text-xs text-gray-500 mt-1">经典西湖一日游，感受杭州核心美景，傍晚逛河坊街尝本地小吃</p>
               </div>
             </div>
             <div class="flex items-center gap-3">
               <div class="w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center text-secondary">
                 <i class="fa fa-map-marker"></i>
               </div>
               <div>
                 <h4 class="font-medium">第2天</h4>
                 <p class="text-sm text-gray-600">灵隐寺 → 龙井村 → 九溪十八涧</p>
                 <p class="text-xs text-gray-500 mt-1">禅意山水之旅，品龙井茶香，走九溪十八涧天然氧吧</p>
               </div>
             </div>
             <div class="flex items-center gap-3">
               <div class="w-10 h-10 rounded-full bg-accent/10 flex items-center justify-center text-accent">
                 <i class="fa fa-map-marker"></i>
               </div>
               <div>
                 <h4 class="font-medium">第3天</h4>
                 <p class="text-sm text-gray-600">西溪湿地 → 宋城 → 返程</p>
                 <p class="text-xs text-gray-500 mt-1">湿地休闲+宋城沉浸式体验，感受杭州的慢生活与人文特色</p>
               </div>
             </div>
           </div>
         </div>
       </div>
     </div>
   </div>
 </section>
 
 <!-- 保留高德地图API（替换成你的Key） -->
 <script type="text/javascript" src="https://webapi.amap.com/maps?v=2.0&key=d2fa9df65dd62f5b3f2d562165aca23c"></script>
 <!-- 保留Font Awesome图标 -->
 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
 
 <script>
 // 1. 预算滑块联动（保留原有功能）
 const budgetRange = document.getElementById('budget-range');
 const budgetValue = document.getElementById('budget-value');
 budgetRange.addEventListener('input', function() {
   budgetValue.textContent = `¥${this.value}`;
 });
 
 // 2. 初始化地图（仅显示空白杭州地图，移除所有路线和标记）
 let map;
 window.onload = function() {
   // 初始化杭州空白地图
   map = new AMap.Map('map-container', {
     center: [120.153576, 30.287459], // 杭州坐标
     zoom: 12,
     resizeEnable: true
   });
   // 保留地图控件（比例尺、工具栏）
   map.addControl(new AMap.Scale());
   map.addControl(new AMap.ToolBar());
 };
 
 // 3. 修改生成路线按钮逻辑：点击提示登录后重试
 document.getElementById('generate-route').addEventListener('click', function() {
   // 弹出提示框
   alert('请登录后重试！');
   // 可选：如果需要跳转到登录页，取消下面注释并修改登录页地址
   // window.location.href = 'login.html';
 });
 </script>
 
 <!-- 保留所有原有样式 -->
 <style>
 :root {
   --primary: #165DFF;
   --secondary: #FF7D00;
   --accent: #0FC6C2;
   --purple: #722ED1;
   --red: #F5222D;
 }
 
 .text-primary { color: var(--primary); }
 .bg-primary/10 { background-color: rgba(22, 93, 255, 0.1); }
 .bg-primary/80 { background-color: rgba(22, 93, 255, 0.8); }
 .text-secondary { color: var(--secondary); }
 .bg-secondary/10 { background-color: rgba(255, 125, 0, 0.1); }
 .text-accent { color: var(--accent); }
 .bg-accent/10 { background-color: rgba(15, 198, 194, 0.1); }
 .text-purple { color: var(--purple); }
 .bg-purple/10 { background-color: rgba(114, 46, 209, 0.1); }
 .text-red { color: var(--red); }
 .bg-red/10 { background-color: rgba(245, 34, 45, 0.1); }
 
 #map-container {
   width: 100%;
 }
 
 /* 保留原有动画和hover样式 */
 .card-hover:hover {
   transform: translateY(-5px);
   transition: transform 0.3s ease;
 }
 .animate-fade-in {
   animation: fadeIn 0.8s ease forwards;
   opacity: 0;
 }
 .delay-100 { animation-delay: 0.1s; }
 .delay-200 { animation-delay: 0.2s; }
 @keyframes fadeIn {
   from { opacity: 0; transform: translateY(20px); }
   to { opacity: 1; transform: translateY(0); }
 }
 .line-clamp-2 {
   display: -webkit-box;
   -webkit-line-clamp: 2;
   -webkit-box-orient: vertical;
   overflow: hidden;
 }
 .line-clamp-3 {
   display: -webkit-box;
   -webkit-line-clamp: 3;
   -webkit-box-orient: vertical;
   overflow: hidden;
 }
 </style>
      
      <!-- 热门路线推荐 -->
      <div class="animate-fade-in">
        <h3 class="font-bold text-xl mb-6 text-center">热门路线推荐</h3>
        
        <div class="overflow-x-auto scrollbar-hide pb-4">
          <div class="flex gap-6 min-w-max px-20">
            <!-- 路线卡片 - 替换为本地图片路径 -->
            <div class="w-72 bg-white rounded-xl shadow-md overflow-hidden card-hover ml-12">
              <div class="h-40 relative">
                <img src="img/hangzhosanr.png" alt="杭州经典路线" class="w-full h-full object-cover">
                <div class="absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-sm font-medium">
                  3天2晚
                </div>
              </div>
              <div class="p-5">
                <h4 class="font-bold text-lg mb-2">杭州经典三日游</h4>
                <div class="flex items-center text-sm text-gray-600 mb-3">
                  <i class="fa fa-map-marker text-primary mr-1"></i>
                  <span>杭州</span>
                  <span class="mx-2">•</span>
                  <i class="fa fa-users text-primary mr-1"></i>
                  <span>家庭/情侣</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-primary font-medium">¥2880/人</span>
                  <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="text-sm bg-primary/10 text-primary px-3 py-1 rounded-full hover:bg-primary/20 transition-colors">
                    查看详情
                  </a>
                </div>
              </div>
            </div>
            
            <!-- 路线卡片 - 替换为本地图片路径 -->
            <div class="w-72 bg-white rounded-xl shadow-md overflow-hidden card-hover">
              <div class="h-40 relative">
                <img src="img/beijingsanr.png" alt="北京精华路线" class="w-full h-full object-cover">
                <div class="absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-sm font-medium">
                  5天4晚
                </div>
              </div>
              <div class="p-5">
                <h4 class="font-bold text-lg mb-2">北京精华五日游</h4>
                <div class="flex items-center text-sm text-gray-600 mb-3">
                  <i class="fa fa-map-marker text-primary mr-1"></i>
                  <span>北京</span>
                  <span class="mx-2">•</span>
                  <i class="fa fa-users text-primary mr-1"></i>
                  <span>亲子/研学</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-primary font-medium">¥4580/人</span>
                  <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="text-sm bg-primary/10 text-primary px-3 py-1 rounded-full hover:bg-primary/20 transition-colors">
                    查看详情
                  </a>
                </div>
              </div>
            </div>
            
            <!-- 路线卡片 - 替换为本地图片路径 -->
            <div class="w-72 bg-white rounded-xl shadow-md overflow-hidden card-hover">
              <div class="h-40 relative">
                <img src="img/chaunyuhuanxian.png" alt="川渝环线路线" class="w-full h-full object-cover">
                <div class="absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-sm font-medium">
                  7天6晚
                </div>
              </div>
              <div class="p-5">
                <h4 class="font-bold text-lg mb-2">川渝环线七日游</h4>
                <div class="flex items-center text-sm text-gray-600 mb-3">
                  <i class="fa fa-map-marker text-primary mr-1"></i>
                  <span>成都/重庆</span>
                  <span class="mx-2">•</span>
                  <i class="fa fa-users text-primary mr-1"></i>
                  <span>朋友/情侣</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-primary font-medium">¥5980/人</span>
                  <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="text-sm bg-primary/10 text-primary px-3 py-1 rounded-full hover:bg-primary/20 transition-colors">
                    查看详情
                  </a>
                </div>
              </div>
            </div>
            
            <!-- 路线卡片 - 替换为本地图片路径 -->
            <div class="w-72 bg-white rounded-xl shadow-md overflow-hidden card-hover">
              <div class="h-40 relative">
                <img src="img/yunnan.png" alt="云南深度路线" class="w-full h-full object-cover">
                <div class="absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-full text-sm font-medium">
                  9天8晚
                </div>
              </div>
              <div class="p-5">
                <h4 class="font-bold text-lg mb-2">云南深度九日游</h4>
                <div class="flex items-center text-sm text-gray-600 mb-3">
                  <i class="fa fa-map-marker text-primary mr-1"></i>
                  <span>昆明/大理/丽江</span>
                  <span class="mx-2">•</span>
                  <i class="fa fa-users text-primary mr-1"></i>
                  <span>休闲/度假</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-primary font-medium">¥7680/人</span>
                  <a href="javascript:void(0);" onclick="alert('请登录后重试！')" class="text-sm bg-primary/10 text-primary px-3 py-1 rounded-full hover:bg-primary/20 transition-colors">
                    查看详情
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 美景图库 -->
  <section id="gallery" class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12 animate-fade-in">
        <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">美景图库</h2>
        <p class="text-gray-600 max-w-2xl mx-auto">欣赏来自世界各地的绝美风景，激发你的旅行灵感</p>
      </div>
      
      <!-- 图库分类 -->
      <div class="flex flex-wrap justify-center gap-3 mb-8 animate-fade-in delay-100">
        <button class="gallery-filter px-4 py-2 rounded-full bg-primary text-white">全部</button>
        <button class="gallery-filter px-4 py-2 rounded-full bg-white hover:bg-primary/10 transition-colors">自然风光</button>
        <button class="gallery-filter px-4 py-2 rounded-full bg-white hover:bg-primary/10 transition-colors">城市景观</button>
        <button class="gallery-filter px-4 py-2 rounded-full bg-white hover:bg-primary/10 transition-colors">人文古迹</button>
        <button class="gallery-filter px-4 py-2 rounded-full bg-white hover:bg-primary/10 transition-colors">美食特产</button>
        <button class="gallery-filter px-4 py-2 rounded-full bg-white hover:bg-primary/10 transition-colors">民俗文化</button>
      </div>
      
      <!-- 图库网格 -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 animate-fade-in delay-200">
        <!-- 图片项 - 替换为本地图片路径 -->
        <div class="gallery-item relative overflow-hidden rounded-xl group cursor-pointer">
          <img src="img/xihumei.png" alt="西湖美景" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110">
          <div class="absolute inset-0 bg-gradient-to-t from-dark/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <div class="p-4 text-white">
              <h3 class="font-bold">杭州西湖</h3>
              <p class="text-sm text-white/80">自然风光</p>
            </div>
          </div>
        </div>
        
        <!-- 图片项 - 替换为本地图片路径 -->
        <div class="gallery-item relative overflow-hidden rounded-xl group cursor-pointer">
          <img src="img/gugongmei.png" alt="故宫" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110">
          <div class="absolute inset-0 bg-gradient-to-t from-dark/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <div class="p-4 text-white">
              <h3 class="font-bold">北京故宫</h3>
              <p class="text-sm text-white/80">人文古迹</p>
            </div>
          </div>
        </div>
        
        <!-- 图片项 - 替换为本地图片路径 -->
        <div class="gallery-item relative overflow-hidden rounded-xl group cursor-pointer">
          <img src="img/bingmayong.png" alt="兵马俑" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110">
          <div class="absolute inset-0 bg-gradient-to-t from-dark/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <div class="p-4 text-white">
              <h3 class="font-bold">西安兵马俑</h3>
              <p class="text-sm text-white/80">人文古迹</p>
            </div>
          </div>
        </div>
        
        <!-- 图片项 - 替换为本地图片路径 -->
        <div class="gallery-item relative overflow-hidden rounded-xl group cursor-pointer">
          <img src="img/jiuzhaigo.png" alt="九寨沟" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110">
          <div class="absolute inset-0 bg-gradient-to-t from-dark/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <div class="p-4 text-white">
              <h3 class="font-bold">九寨沟</h3>
              <p class="text-sm text-white/80">自然风光</p>
            </div>
          </div>
        </div>
        
        <!-- 图片项 - 替换为本地图片路径 -->
        <div class="gallery-item relative overflow-hidden rounded-xl group cursor-pointer">
          <img src="img/shanghaiwaitan.png" alt="上海外滩" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110">
          <div class="absolute inset-0 bg-gradient-to-t from-dark/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <div class="p-4 text-white">
              <h3 class="font-bold">上海外滩</h3>
              <p class="text-sm text-white/80">城市景观</p>
            </div>
          </div>
        </div>
        
        <!-- 图片项 - 替换为本地图片路径 -->
        <div class="gallery-item relative overflow-hidden rounded-xl group cursor-pointer">
          <img src="img/chengdumeishi.png" alt="成都美食" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110">
          <div class="absolute inset-0 bg-gradient-to-t from-dark/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <div class="p-4 text-white">
              <h3 class="font-bold">成都美食</h3>
              <p class="text-sm text-white/80">美食特产</p>
            </div>
          </div>
        </div>
        
        <!-- 图片项 - 替换为本地图片路径 -->
        <div class="gallery-item relative overflow-hidden rounded-xl group cursor-pointer">
          <img src="img/lijiangguc.png" alt="丽江古城" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110">
          <div class="absolute inset-0 bg-gradient-to-t from-dark/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <div class="p-4 text-white">
              <h3 class="font-bold">丽江古城</h3>
              <p class="text-sm text-white/80">民俗文化</p>
            </div>
          </div>
        </div>
        
        <!-- 图片项 - 替换为本地图片路径 -->
        <div class="gallery-item relative overflow-hidden rounded-xl group cursor-pointer">
          <img src="img/zhangjaijie.png" alt="张家界" class="w-full h-64 object-cover transition-transform duration-700 group-hover:scale-110">
          <div class="absolute inset-0 bg-gradient-to-t from-dark/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
            <div class="p-4 text-white">
              <h3 class="font-bold">张家界</h3>
              <p class="text-sm text-white/80">自然风光</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 查看更多 -->
      <div class="text-center mt-10">
        <button id="load-more" class="inline-flex items-center gap-2 px-6 py-3 border border-primary text-primary rounded-full hover:bg-primary hover:text-white transition-colors">
          加载更多图片
          <i class="fa fa-refresh"></i>
        </button>
      </div>
    </div>
  </section>

<!-- 天气查询 -->
<section id="weather" class="py-20 bg-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12 animate-fade-in">
      <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">实时天气查询</h2>
      <p class="text-gray-600 max-w-2xl mx-auto">查询目的地的实时天气，为你的旅行做好充分准备</p>
    </div>
    
    <div class="max-w-3xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden animate-fade-in delay-100">
      <!-- 天气查询表单 -->
      <div class="p-6 border-b border-gray-100">
        <div class="flex flex-col md:flex-row gap-4">
          <input type="text" id="city-input" placeholder="输入城市名称..." 
                 class="flex-1 px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
          <button id="weather-btn" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium whitespace-nowrap">
            查询天气
          </button>
        </div>
      </div>
      
      <!-- 天气结果展示 -->
      <div id="weather-result" class="p-6">
        <!-- 加载状态 -->
        <div id="weather-loading" class="text-center py-8">
          <div class="inline-block animate-spin rounded-full h-10 w-10 border-4 border-primary border-t-transparent mb-4"></div>
          <p class="text-gray-600">正在查询天气数据...</p>
        </div>
        
        <!-- 错误提示 -->
        <div id="weather-error" class="hidden text-center py-8">
          <i class="fa fa-exclamation-circle text-4xl text-red-500 mb-4"></i>
          <p class="text-gray-600" id="error-text">无法获取天气数据，请稍后重试</p>
        </div>
        
        <!-- 天气信息 -->
        <div id="weather-info" class="hidden grid grid-cols-1 md:grid-cols-4 gap-6">
          <!-- 当前天气 -->
          <div class="md:col-span-2 bg-gray-50 rounded-xl p-6 flex items-center gap-6">
            <div class="text-center">
              <i class="fa text-5xl text-yellow-400" id="weather-icon"></i>
              <p class="text-sm text-gray-600 mt-2" id="weather-desc">晴天</p>
            </div>
            <div>
              <h3 class="font-bold text-4xl mb-1" id="current-temp">25°C</h3>
              <p class="text-lg font-medium" id="current-city">杭州市</p>
              <p class="text-sm text-gray-600 mt-1" id="current-time">更新于: 2025-01-20 14:30</p>
            </div>
          </div>
          
          <!-- 天气详情 -->
          <div class="bg-gray-50 rounded-xl p-6">
            <div class="flex justify-between items-center mb-4">
              <h4 class="font-medium">湿度</h4>
              <span class="text-xl font-bold" id="current-humidity">65%</span>
            </div>
            <div class="flex justify-between items-center mb-4">
              <h4 class="font-medium">风力</h4>
              <span class="text-xl font-bold" id="current-wind">3级</span>
            </div>
            <div class="flex justify-between items-center">
              <h4 class="font-medium">气压</h4>
              <span class="text-xl font-bold" id="current-pressure">1012 hPa</span>
            </div>
          </div>
          
          <!-- 空气质量 -->
          <div class="bg-gray-50 rounded-xl p-6">
            <div class="flex justify-between items-center mb-4">
              <h4 class="font-medium">空气质量</h4>
              <span class="text-xl font-bold text-green-500" id="current-aqi">优</span>
            </div>
            <div class="flex justify-between items-center mb-4">
              <h4 class="font-medium">PM2.5</h4>
              <span class="text-xl font-bold" id="current-pm25">18</span>
            </div>
            <div class="flex justify-between items-center">
              <h4 class="font-medium">紫外线</h4>
              <span class="text-xl font-bold" id="current-uv">中等</span>
            </div>
          </div>
        </div>
        
        <!-- 未来预报 -->
        <div class="mt-8 hidden" id="forecast-container">
          <h4 class="font-bold text-lg mb-4">未来7天天气预报</h4>
          <div class="grid grid-cols-2 md:grid-cols-7 gap-3" id="forecast-list">
            <!-- 预报项由JS动态生成 -->
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- 引入jQuery（简化接口请求） -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
<!-- 引入Font Awesome（天气图标） -->
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script>
  // ===================== 核心配置（替换为你的有效和风Key） =====================
  const DEFAULT_CITY = "北京"; 
  const QWEATHER_KEY = "2a42c28787a5462f905079f56a106027"; // 必须替换为自己的Key！
  // 2025年最新接口（使用独立API Host）
  const GEO_URL = "https://n66x88hwfh.re.qweatherapi.com/geo/v2/city/lookup";
  const NOW_URL = "https://n66x88hwfh.re.qweatherapi.com/v7/weather/now";
  const FORECAST_URL = "https://n66x88hwfh.re.qweatherapi.com/v7/weather/7d";
  const AIR_URL = "https://n66x88hwfh.re.qweatherapi.com/v7/air/now"; // 新增空气质量接口

  // 天气图标映射
  const weatherIconMap = {
    "晴": "fa-sun-o", "多云": "fa-cloud", "阴": "fa-cloud",
    "小雨": "fa-cloud-rain", "中雨": "fa-cloud-rain", "大雨": "fa-cloud-rain", "暴雨": "fa-cloud-rain",
    "小雪": "fa-snowflake-o", "中雪": "fa-snowflake-o", "大雪": "fa-snowflake-o", "暴雪": "fa-snowflake-o",
    "雷阵雨": "fa-bolt", "雾": "fa-smog", "霾": "fa-smog", "阵雨": "fa-cloud-rain",
    "冰雹": "fa-bolt", "霜冻": "fa-snowflake-o", "扬沙": "fa-smog", "沙尘暴": "fa-smog"
  };

  // 空气质量颜色映射
  const aqiColorMap = {
    "优": "text-green-500", "良": "text-blue-500", "轻度污染": "text-yellow-500",
    "中度污染": "text-orange-500", "重度污染": "text-red-500", "严重污染": "text-purple-500"
  };

  // 紫外线等级映射
  const uvMap = {
    "0": "无", "1": "弱", "2": "弱", "3": "中等", 
    "4": "强", "5": "强", "6": "很强", "7": "很强", 
    "8": "极强", "9": "极强", "10": "极强"
  };

  // 防抖函数（优化输入体验）
  function debounce(func, wait) {
    let timeout;
    return function() {
      clearTimeout(timeout);
      timeout = setTimeout(() => func.apply(this, arguments), wait);
    };
  }

  // 页面初始化
  $(document).ready(function() {
    // 初始化默认城市天气
    getWeatherByCity(DEFAULT_CITY);
    
    // 查询按钮点击事件（防抖）
    const queryWeather = debounce(function() {
      const city = $("#city-input").val().trim();
      if (!city) {
        showError("请输入城市名称！");
        return;
      }
      getWeatherByCity(city);
    }, 300);
    
    $("#weather-btn").click(queryWeather);
    
    // 回车查询
    $("#city-input").keypress(function(e) {
      if (e.which === 13) {
        queryWeather();
      }
    });
  });

  // ===================== 核心功能函数 =====================
  /**
   * 城市名转和风城市ID（自动清洗城市名）
   */
  function getCityId(cityName, callback) {
    const cleanCity = cityName.replace(/市$/, ""); // 去掉末尾“市”
    $.ajax({
      url: GEO_URL,
      type: "GET",
      dataType: "json",
      timeout: 5000, // 超时时间5秒
      data: {
        key: QWEATHER_KEY,
        location: cleanCity,
        lang: "zh",
        type: "city"
      },
      success: function(res) {
        if (res.code === "200" && res.location?.length > 0) {
          callback(res.location[0].id);
        } else {
          console.error("城市识别失败：", res);
          callback(null);
        }
      },
      error: function(xhr, status) {
        console.error("城市ID请求失败：", status, xhr.statusText);
        callback(null);
      }
    });
  }

  /**
   * 获取实时天气
   */
  function getNowWeather(cityId, callback) {
    $.ajax({
      url: NOW_URL,
      type: "GET",
      dataType: "json",
      timeout: 5000,
      data: {
        key: QWEATHER_KEY,
        location: cityId,
        lang: "zh"
      },
      success: function(res) {
        res.code === "200" ? callback(res) : callback(null);
      },
      error: function() {
        callback(null);
      }
    });
  }

  /**
   * 获取空气质量数据（新增）
   */
  function getAirQuality(cityId, callback) {
    $.ajax({
      url: AIR_URL,
      type: "GET",
      dataType: "json",
      timeout: 5000,
      data: {
        key: QWEATHER_KEY,
        location: cityId,
        lang: "zh"
      },
      success: function(res) {
        res.code === "200" ? callback(res.now) : callback(null);
      },
      error: function() {
        callback(null);
      }
    });
  }

  /**
   * 获取7天预报
   */
  function get7dForecast(cityId, callback) {
    $.ajax({
      url: FORECAST_URL,
      type: "GET",
      dataType: "json",
      timeout: 5000,
      data: {
        key: QWEATHER_KEY,
        location: cityId,
        lang: "zh"
      },
      success: function(res) {
        (res.code === "200" && res.daily?.length > 0) ? callback(res.daily) : callback(null);
      },
      error: function() {
        callback(null);
      }
    });
  }

  /**
   * 主函数：查询并渲染天气
   */
  function getWeatherByCity(city) {
    showLoading();
    // 1. 获取城市ID
    getCityId(city, function(cityId) {
      if (!cityId) {
        showError(`无法识别城市“${city}”，请检查名称！`);
        // 修复：错误时显示预报容器（空内容）
        $("#forecast-container").show();
        $("#forecast-list").empty();
        return;
      }

      // 2. 获取实时天气
      getNowWeather(cityId, function(nowData) {
        if (!nowData) {
          showError(`无法获取${city}实时天气数据！`);
          // 修复：错误时显示预报容器（空内容）
          $("#forecast-container").show();
          $("#forecast-list").empty();
          return;
        }
        renderCurrentWeather(nowData, city);

        // 3. 获取空气质量（新增）
        getAirQuality(cityId, function(airData) {
          if (airData) {
            renderAirQuality(airData);
          }
        });

        // 4. 获取7天预报
        get7dForecast(cityId, function(forecastData) {
          if (forecastData) {
            renderForecastWeather(forecastData);
            // 修复：有数据时强制显示预报容器
            $("#forecast-container").show();
          } else {
            // 修复：无数据时显示容器（空内容）
            $("#forecast-container").show();
            $("#forecast-list").empty();
          }
        });
      });
    });
  }

  /**
   * 渲染实时天气
   */
  function renderCurrentWeather(data, cityName) {
    $("#weather-loading, #weather-error").hide();
    $("#weather-info").show();
    
    const now = data.now;
    const realtime = {
      temp: now.temp || "未知",
      text: now.text || "未知",
      humidity: now.humidity || "未知",
      windDir: now.windDir || "未知",
      windScale: now.windScale || "未知",
      pressure: now.pressure || "未知",
      uv: uvMap[now.uv] || "未知"
    };

    // 填充基础数据
    $("#current-city").text(cityName);
    $("#current-temp").text(`${realtime.temp}°C`);
    $("#weather-desc").text(realtime.text);
    $("#current-humidity").text(`${realtime.humidity}%`);
    $("#current-wind").text(`${realtime.windDir} ${realtime.windScale}级`);
    $("#current-pressure").text(`${realtime.pressure} hPa`);
    $("#current-uv").text(realtime.uv);
    
    // 格式化更新时间
    const updateTime = new Date();
    const formattedTime = updateTime.toLocaleString("zh-CN", {
      year: "numeric", 
      month: "2-digit", 
      day: "2-digit", 
      hour: "2-digit", 
      minute: "2-digit",
      hour12: false
    });
    $("#current-time").text(`更新于: ${formattedTime}`);
    
    // 天气图标
    const iconClass = weatherIconMap[realtime.text] || "fa-question-circle";
    $("#weather-icon").removeClass().addClass(`fa ${iconClass} text-5xl text-yellow-400`);
    
    // 回填输入框
    $("#city-input").val(cityName);
  }

  /**
   * 渲染空气质量（新增）
   */
  function renderAirQuality(airData) {
    const airInfo = {
      aqiLevel: airData.category || "未知",
      pm25: airData.pm2p5 || "未知"
    };
    
    // 空气质量等级+颜色
    const aqiColor = aqiColorMap[airInfo.aqiLevel] || "text-gray-500";
    $("#current-aqi").text(airInfo.aqiLevel).removeClass().addClass(`text-xl font-bold ${aqiColor}`);
    $("#current-pm25").text(airInfo.pm25);
  }

  /**
   * 渲染7天预报
   */
  function renderForecastWeather(forecastData) {
    $("#forecast-container").show(); // 修复：强制显示预报容器
    const $forecastList = $("#forecast-list").empty();
    
    // 截取前7天数据
    forecastData.slice(0, 7).forEach(day => {
      // 兼容不同浏览器的日期解析
      const dateParts = day.fxDate.split('-');
      const date = new Date(dateParts[0], dateParts[1] - 1, dateParts[2]);
      const week = ["周日","周一","周二","周三","周四","周五","周六"][date.getDay()];
      
      const iconClass = weatherIconMap[day.textDay] || "fa-question-circle";
      const tempMax = day.tempMax || "未知";
      const tempMin = day.tempMin || "未知";
      
      // 温度颜色逻辑优化
      const tempColor = parseInt(tempMax) > 25 ? "text-red-400" : "text-blue-400";
      
      $forecastList.append(`
        <div class="bg-gray-50 rounded-xl p-4 text-center">
          <p class="text-sm font-medium mb-2">${week}</p>
          <i class="fa ${iconClass} text-2xl ${tempColor} mb-2"></i>
          <p class="font-bold">${tempMax}°C</p>
          <p class="text-xs text-gray-600">${tempMin}~${tempMax}℃</p>
        </div>
      `);
    });
  }

  // 辅助函数（修复UI消失核心）
  function showLoading() {
    $("#weather-error, #weather-info, #forecast-container").hide();
    $("#weather-loading").show();
    // 修复：加载时提前显示预报容器（避免后续消失）
    setTimeout(() => {
      $("#forecast-container").show();
    }, 100);
  }

  function showError(text) {
    $("#weather-loading, #weather-info").hide();
    $("#weather-error").show().find("#error-text").text(text);
    // 修复：错误时强制显示预报容器
    $("#forecast-container").show();
  }
</script>

  <!-- 订阅区域 -->
  <section class="py-20 bg-primary/5">
    <div class="container mx-auto px-4">
      <div class="max-w-2xl mx-auto text-center animate-fade-in">
        <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold mb-4">获取最新的旅游资讯</h2>
        <p class="text-gray-600 mb-8">订阅我们的邮件，获取最新的旅游攻略、优惠活动和目的地推荐</p>
        
        <form class="flex flex-col sm:flex-row gap-3 max-w-xl mx-auto">
          <input type="email" placeholder="输入你的邮箱地址..." 
                 class="flex-1 px-4 py-3 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary">
          <button type="submit" class="px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium whitespace-nowrap">
            立即订阅
          </button>
        </form>
        
        <p class="text-xs text-gray-500 mt-4">
          我们尊重你的隐私，不会向第三方分享你的信息
        </p>
      </div>
    </div>
  </section>

  <!-- 页脚 -->
  <footer class="bg-dark text-white pt-16 pb-8">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
        <!-- 关于我们 -->
        <div>
          <h3 class="font-bold text-xl mb-4 flex items-center gap-2">
            <i class="fa fa-map-marker"></i>
            旅图
          </h3>
          <p class="text-gray-400 mb-6">
            旅图致力于为旅行者提供最全面、最实用的旅游攻略和信息，让每一次旅行都充满美好回忆。
          </p>
          <div class="flex gap-4">
            <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors">
              <i class="fa fa-weibo"></i>
            </a>
            <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors">
              <i class="fa fa-wechat"></i>
            </a>
            <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors">
              <i class="fa fa-instagram"></i>
            </a>
            <a href="#" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors">
              <i class="fa fa-youtube-play"></i>
            </a>
          </div>
        </div>
        
        <!-- 快速链接 -->
        <div>
          <h3 class="font-bold text-lg mb-4">快速链接</h3>
          <ul class="space-y-2">
            <li><a href="#destinations" class="text-gray-400 hover:text-white transition-colors">目的地</a></li>
            <li><a href="#guides" class="text-gray-400 hover:text-white transition-colors">旅游攻略</a></li>
            <li><a href="#routes" class="text-gray-400 hover:text-white transition-colors">路线规划</a></li>
            <li><a href="#gallery" class="text-gray-400 hover:text-white transition-colors">美景图库</a></li>
            <li><a href="#weather" class="text-gray-400 hover:text-white transition-colors">天气查询</a></li>
          </ul>
        </div>
        
        <!-- 热门目的地 -->
        <div>
          <h3 class="font-bold text-lg mb-4">热门目的地</h3>
          <ul class="space-y-2">
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">北京</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">上海</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">杭州</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">成都</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">西安</a></li>
          </ul>
        </div>
        
        <!-- 联系我们 -->
        <div>
          <h3 class="font-bold text-lg mb-4">联系我们</h3>
          <ul class="space-y-3">
            <li class="flex items-start gap-3">
              <i class="fa fa-envelope text-gray-400 mt-1"></i>
              <span class="text-gray-400">contact@lvtutravel.com</span>
            </li>
            <li class="flex items-start gap-3">
              <i class="fa fa-phone text-gray-400 mt-1"></i>
              <span class="text-gray-400">400-123-4567</span>
            </li>
            <li class="flex items-start gap-3">
              <i class="fa fa-map-marker text-gray-400 mt-1"></i>
              <span class="text-gray-400">北京市朝阳区建国路88号</span>
            </li>
          </ul>
        </div>
      </div>
      
      <div class="border-t border-gray-800 pt-8 text-center text-gray-500 text-sm">
        <p>© 2025 旅图 All Rights Reserved. 京ICP备12345678号</p>
      </div>
    </div>
  </footer>

  <!-- 返回顶部按钮 -->
  <button id="back-to-top" class="fixed bottom-8 right-8 w-12 h-12 rounded-full bg-primary text-white flex items-center justify-center shadow-lg opacity-0 invisible transition-all duration-300 hover:bg-primary/90 z-50">
    <i class="fa fa-chevron-up"></i>
  </button>

    // JavaScript
    <script>
      // DOM加载完成后执行
      document.addEventListener('DOMContentLoaded', function() {
        // 移动端菜单切换
        const menuToggle = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        
        menuToggle.addEventListener('click', function() {
          mobileMenu.classList.toggle('hidden');
          const icon = menuToggle.querySelector('i');
          if (mobileMenu.classList.contains('hidden')) {
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
          } else {
            icon.classList.remove('fa-bars');
            icon.classList.add('fa-times');
          }
        });
        
        // 登录按钮点击事件 - 新增：可自定义跳转逻辑
        const loginButton = document.getElementById('login-button');
        if (loginButton) {
          loginButton.addEventListener('click', function(e) {
            // 这里可以添加登录跳转前的逻辑
            console.log('跳转到登录页面');
            // 实际项目中可以在这里添加表单验证、用户状态检查等逻辑
          });
        }
        
        // 轮播图功能（完善自动轮播）
        const carouselItems = document.querySelectorAll('.carousel-item');
        const carouselDots = document.querySelectorAll('.carousel-dot');
        let currentSlide = 0;
        let carouselInterval; // 轮播定时器
        
        // 显示指定轮播项
        function showSlide(index) {
          // 隐藏所有轮播项
          carouselItems.forEach(item => item.classList.remove('active'));
          // 重置所有指示器
          carouselDots.forEach(dot => dot.classList.remove('active'));
          
          // 显示指定轮播项
          carouselItems[index].classList.add('active');
          carouselDots[index].classList.add('active');
          
          currentSlide = index;
        }
        
        // 下一张轮播图
        function nextSlide() {
          let nextSlide = (currentSlide + 1) % carouselItems.length;
          showSlide(nextSlide);
        }
        
        // 指示器点击事件
        carouselDots.forEach((dot, index) => {
          dot.addEventListener('click', () => {
            // 点击指示器时重置自动轮播
            clearInterval(carouselInterval);
            showSlide(index);
            carouselInterval = setInterval(nextSlide, 5000);
          });
        });
        
        // 自动轮播（5秒切换一次）
        function startCarousel() {
          carouselInterval = setInterval(nextSlide, 5000);
        }
        
        // 初始化自动轮播
        startCarousel();
        
        // 鼠标悬停轮播区域暂停，离开继续
        const heroCarousel = document.getElementById('hero-carousel');
        if (heroCarousel) {
          heroCarousel.addEventListener('mouseenter', () => {
            clearInterval(carouselInterval);
          });
          heroCarousel.addEventListener('mouseleave', () => {
            carouselInterval = setInterval(nextSlide, 5000);
          });
        }
        
        // 预算滑块
        const budgetRange = document.getElementById('budget-range');
        const budgetValue = document.getElementById('budget-value');
        
        budgetRange.addEventListener('input', function() {
          budgetValue.textContent = `¥${this.value}`;
        });
        
        // 高德地图初始化
// 高德地图初始化（修复控件异步加载问题）
function initMap() {
  if (window.AMap) {
    const map = new AMap.Map('map-container', {
      zoom: 12,
      center: [120.13066322374, 30.240018034923], // 杭州坐标
      resizeEnable: true
    });
    
    // 关键修改：改用 AMap.ToolBar（高德v2.0支持的工具栏控件，包含缩放功能）
    AMap.plugin(['AMap.Scale', 'AMap.ToolBar'], function() {
      map.addControl(new AMap.Scale());       // 比例尺控件（正确）
      map.addControl(new AMap.ToolBar());     // 工具栏控件（替代ZoomControl，包含缩放按钮）
    });
    
    // 添加标记点（保持不变）
    const markers = [
      {
        position: [120.122488, 30.258043],
        title: '西湖景区',
        icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png'
      },
      {
        position: [120.10909, 30.25152],
        title: '灵隐寺',
        icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_c.png'
      },
      {
        position: [120.02678, 30.25414],
        title: '西溪湿地',
        icon: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_d.png'
      }
    ];
    
    markers.forEach(marker => {
      const mapMarker = new AMap.Marker({
        position: marker.position,
        title: marker.title,
        icon: marker.icon
      });
      mapMarker.addTo(map);
    });
  }
}
        
        // 初始化地图
        initMap();
        
        // 返回顶部按钮
        const backToTop = document.getElementById('back-to-top');
        
        window.addEventListener('scroll', function() {
          if (window.scrollY > 300) {
            backToTop.classList.remove('opacity-0', 'invisible');
            backToTop.classList.add('opacity-100', 'visible');
          } else {
            backToTop.classList.remove('opacity-100', 'visible');
            backToTop.classList.add('opacity-0', 'invisible');
          }
        });
        
        backToTop.addEventListener('click', function() {
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        });
        
        // 天气查询按钮点击事件
        const weatherBtn = document.getElementById('weather-btn');
        const weatherLoading = document.getElementById('weather-loading');
        const weatherError = document.getElementById('weather-error');
        const weatherInfo = document.getElementById('weather-info');
        
        if (weatherBtn) {
          weatherBtn.addEventListener('click', function() {
            // 模拟加载状态
            weatherLoading.classList.remove('hidden');
            weatherError.classList.add('hidden');
            weatherInfo.classList.add('hidden');
            
            // 模拟异步请求
            setTimeout(() => {
              weatherLoading.classList.add('hidden');
              weatherInfo.classList.remove('hidden');
            }, 1500);
          });
        }
        
        // 平滑滚动
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
              // 关闭移动端菜单（如果打开）
              if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
                const icon = menuToggle.querySelector('i');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
              }
              
              // 平滑滚动到目标位置
              targetElement.scrollIntoView({
                behavior: 'smooth'
              });
            }
          });
        });
      });
    </script>